<div class="landing-container">
  <!-- Demo Toggle Button (for testing - remove in production) -->
  <div class="demo-controls">
    <button mat-stroked-button (click)="toggleAuthDemo()" class="demo-toggle">
      <mat-icon>swap_horiz</mat-icon>
      Toggle Auth State (Demo)
    </button>
  </div>

  <!-- Authenticated User View -->
  <div *ngIf="isAuthenticated$ | async" class="authenticated-view">
    <app-dashboard-preview></app-dashboard-preview>
  </div>

  <!-- Unauthenticated User View -->
  <div *ngIf="(isAuthenticated$ | async) === false" class="unauthenticated-view">
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content">
        <!-- Logo and Branding -->
        <div class="hero-brand">
          <div class="logo">
            <mat-icon class="logo-icon">group_work</mat-icon>
            <h1 class="logo-text">Joinery</h1>
          </div>
          <p class="tagline">Secure, collaborative query sharing for teams</p>
        </div>

        <!-- Value Proposition -->
        <div class="value-proposition">
          <h2>Streamline your team's data workflow</h2>
          <p class="value-description">
            Joinery empowers organizations and educational teams to collaborate seamlessly on data queries. 
            Share insights, manage access, and keep your team's analytical work organized and secure.
          </p>
          
          <div class="feature-highlights">
            <div class="feature">
              <mat-icon>security</mat-icon>
              <span>Secure collaboration</span>
            </div>
            <div class="feature">
              <mat-icon>groups</mat-icon>
              <span>Team management</span>
            </div>
            <div class="feature">
              <mat-icon>search</mat-icon>
              <span>Query organization</span>
            </div>
          </div>
        </div>

        <!-- Call to Actions -->
        <div class="cta-section">
          <button mat-raised-button color="primary" class="primary-cta" routerLink="/auth/login">
            <mat-icon>code</mat-icon>
            Sign in with GitHub
          </button>
          <button mat-stroked-button class="secondary-cta" routerLink="/dashboard">
            <mat-icon>info</mat-icon>
            Learn More
          </button>
        </div>
      </div>

      <!-- Hero Visual -->
      <div class="hero-visual">
        <div class="visual-card">
          <mat-icon class="visual-icon">dashboard</mat-icon>
          <div class="visual-content">
            <h3>Your Team's Data Hub</h3>
            <p>Centralized access to queries, repositories, and team insights</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How Joinery Works Section (simplified) -->
    <section class="how-it-works-section">
      <div class="how-it-works-container">
        <div class="section-header">
          <h2>How Joinery Works</h2>
          <p class="section-description">
            Powerful features designed for team collaboration, security, and workflow management
          </p>
        </div>
        
        <div class="features-grid">
          <div class="feature-card">
            <mat-card>
              <mat-card-content>
                <div class="feature-header">
                  <mat-icon class="feature-icon">share</mat-icon>
                  <h3>Secure Query Sharing</h3>
                </div>
                <p>Share SQL queries and data insights with granular permissions.</p>
              </mat-card-content>
            </mat-card>
          </div>
          
          <div class="feature-card">
            <mat-card>
              <mat-card-content>
                <div class="feature-header">
                  <mat-icon class="feature-icon">admin_panel_settings</mat-icon>
                  <h3>Team & Organization Management</h3>
                </div>
                <p>Organize users into teams with hierarchical permissions.</p>
              </mat-card-content>
            </mat-card>
          </div>
          
          <div class="feature-card">
            <mat-card>
              <mat-card-content>
                <div class="feature-header">
                  <mat-icon class="feature-icon">history</mat-icon>
                  <h3>Audit Trail & History</h3>
                </div>
                <p>Complete visibility into query usage and modifications.</p>
              </mat-card-content>
            </mat-card>
          </div>
          
          <div class="feature-card">
            <mat-card>
              <mat-card-content>
                <div class="feature-header">
                  <mat-icon class="feature-icon">extension</mat-icon>
                  <h3>Extension & Integration Support</h3>
                </div>
                <p>Connect with your existing tools and workflows.</p>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>